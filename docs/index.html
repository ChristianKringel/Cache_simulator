<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR">

<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.12.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Simulador de Cache: Página Principal</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="clipboard.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="resize.js"></script>
    <script type="text/javascript" src="cookie.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="search/searchdata.js"></script>
    <script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr id="projectrow">
                        <td id="projectalign">
                            <div id="projectname">Simulador de Cache
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part -->
        <!-- Gerado por Doxygen 1.12.0 -->
        <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
            var searchBox = new SearchBox("searchBox", "search/", '.html');
            /* @license-end */
        </script>
        <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
            $(function () { codefold.init(0); });
            /* @license-end */
        </script>
        <script type="text/javascript" src="menudata.js"></script>
        <script type="text/javascript" src="menu.js"></script>
        <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
            $(function () {
                initMenu('', true, false, 'search.php', 'Busca', false);
                $(function () { init_search(); });
            });
            /* @license-end */
        </script>
        <div id="main-nav"></div>
    </div><!-- top -->
    <div id="doc-content">
        <script type="text/javascript">
            /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
            $(function () { initResizable(false); });
            /* @license-end */
        </script>
        <!-- window showing the filter options -->
        <div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()"
            onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
        </div>

        <!-- iframe showing the search results (closed by default) -->
        <div id="MSearchResultsWindow">
            <div id="MSearchResults">
                <div class="SRPage">
                    <div id="SRIndex">
                        <div id="SRResults"></div>
                        <div class="SRStatus" id="Loading">Carregando...</div>
                        <div class="SRStatus" id="Searching">Procurando...</div>
                        <div class="SRStatus" id="NoMatches">Nenhuma entrada encontrado</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="header">
            <div class="headertitle">
                <div class="title">Documentação de Simulador de Cache</div>
            </div>
        </div><!--header-->
        <style>
            body {
                font-family: Arial, sans-serif;
                line-height: 1.6;
            }

            h1 {
                color: #ffffff;
            }

            h2 {
                color: #ffffff;
            }

            pre {
                background-color: #2b303b;
                /* Cor de fundo similar ao GitHub */
                color: #c0c5ce;
                /* Cor do texto no fundo escuro */
                padding: 10px;
                border-radius: 4px;
                border-left: 4px solid #4f5b66;
                overflow: auto;
                white-space: pre-wrap;
                word-wrap: break-word;
            }

            .markdown {
                padding: 20px;
                border-radius: 5px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .theory-section {
                padding: 20px;
                border-radius: 5px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }
        </style>
        <div class="contents">
            <div class="markdown">
                <!-- Aqui você pode colocar o conteúdo Markdown convertido -->
                <div class="theory-section">
                    <h2>Descrição Teórica</h2>
                    <p>Este trabalho trata-se de um simulador de cache escrito na linguagem C.
                        <br>Cache é uma memória de alta velocidade que armazena uma cópia dos dados mais frequentemente
                        utilizados.
                        <br>A cache é utilizada para reduzir o tempo de acesso à memória principal, que é mais lenta, e
                        assim melhorar o desempenho do sistema.
                    </p>
                    <br>Este simulador de cache é capaz de simular caches com diferentes configurações, como número de
                    conjuntos, tamanho do bloco, associatividade e política de substituição.
                    <br>Além disso, o simulador é capaz de ler um arquivo de entrada contendo os endereços de memória
                    acessados pelo processador e simular o acesso à cache.
                    <br>Os endereços de memória são processados e verificados se estão presentes na cache, caso não
                    estejam, é feito um miss na cache e o bloco é substituído de acordo com a política de substituição
                    informada.
                    <br>Os resultados da simulação são exibidos na saída padrão, contendo informações sobre os acessos à
                    cache, como acertos, faltas e taxa de acerto.
                    <br>Os parâmetros de configuração devem ser passados como argumentos na linha de comando, e o
                    arquivo de entrada deve ser passado como último argumento.
                    <br>Foram realizadas como bônus do trabalho políticas de substituições extras.</p>
                    <p>Os parâmetros de configuração da cache são:</p>
                    <ul>
                        <li><code>nsets</code>: Número de conjuntos da cache</li>
                        <li><code>bsize</code>: Tamanho do bloco da cache</li>
                        <li><code>assoc</code>: Associatividade da cache</li>
                        <li><code>substituição</code>: Política de substituição da cache</li>
                        <li><code>flag_saida</code>: Flag para exibir saída detalhada</li>
                    </ul>
                    <p>Os algoritmos de substituição disponíveis são:</p>
                    <ul>
                        <li><code>LRU</code>: Troca o bloco utilizado a mais tempo (Last Recent Used)</li>
                        <li><code>FIFO</code>: Troca o bloco inserido primeiro, conforme uma fila (First In First Out)
                        </li>
                        <li><code>RANDOM</code>: Este algoritmo é aleatório, e troca de forma aleatória o bloco, podendo
                            alterar a cada execução </li>
                    </ul>
                    <p>Os arquivos de entrada devem ser binários, e contém os endereços de memória acessados pelo
                        processador.
                        <br>Os Flags de saída contém as informações sobre os acessos à cache, como acertos, faltas e
                        taxa de acerto.
                        <br>Sendo a Flag 0 no formato mais amigável ao olhar e a Flag 1 a utilizada nos testes do
                        professor
                    </p>

                </div>

                <h2>Estrutura do Projeto</h2>
                <ul>
                    <li><code>cache.h</code>: Contém as definições de structs e declarações de funções.</li>
                    <li><code>cache.c</code>: Implementação das funções relacionadas à cache.</li>
                    <li><code>cache_simulator.c</code>: Código principal que executa o simulador (é nosso main).</li>
                    <li><code>Makefile</code>: Um arquivo opcional para facilitar a compilação do projeto.</li>

                    <h3>Detalhes do código</h3>
                    <div class="structs">
                        <h4>Structs</h4>
                        <li><code>CacheSet</code>: Estrutura que representa a cache. Possui o número de blocos e um
                            ponteiro para um bloco da cache.</li>
                        <li><code>CacheBlock</code>: Estrutura que representa um bloco da cache. Possui tag, validade e
                            os valores utilizados nos algoritmos de substituição.</li>
                        <li><code>Cache</code>: Estrutura que representa a cache. Possui o número de conjuntos, o
                            tamanho do bloco, a associatividade, a política de substituição e um ponteiro para um
                            conjunto da cache.</li>
                        <li><code>CacheSimulator</code>: Estrutura que representa o simulador de cache. Possui a cache e
                            as estatísticas de acesso à cache.</li>
                    </div>
                    <h3>Funções</h3>
                    <li><code>createCacheWithPolicy</code>: Inicializa a cache com os parâmetros informados e define a
                        política de substituição.</li>
                    <li><code>freeCache</code>: Libera a memória alocada para a cache.</li>
                    <li><code>readFile</code>: Lê o arquivo e gera o endereço no formato big-endian.</li>
                    <li><code>processAddress</code>: Processa o endereço formatando tag e indice, verifica se é hit e
                        redireciona para o tratamento caso não seja.</li>
                    <li><code>isHit</code>: Testa a tag e validade, caso sejam iguais, retorna true(hit), e false caso
                        contrário(miss). Atualiza o bloco na cache caso seja hit.</li>
                    <li><code>handleCacheMiss</code>: Trata o miss na cache, utilizando a política de substituição
                        informada. Usa o pseudo-código para definir o tipo do miss.</li>
                    <li><code>getLRUIndex</code>: Implementa a política de substituição LRU retornando o índice com base
                        na posição utilizada a mais tempo.</li>
                    <li><code>getFIFOIndex</code>: Implementa a política de substituição FIFO retornando o índice com
                        base na posição inserida primeiro.</li>
                    <li><code>getRandomIndex</code>: Implementa a política de substituição RANDOM retornando o índice de
                        forma aleatória, podendo dar resultados diferentes a cada execução.</li>
                    <li><code>printStats</code>: Imprime as estatísticas da cache com base na flag (0 ou 1).</li>
                    <li><code>isPowerTwo</code>: Testa se o valor passado é potencia de dois.</li>
                    <li><code>cacheIsFull</code>: Testa se a cache está cheia, retornando true caso esteja cheia e false
                        caso contrário.</li>
                </ul>

                <h2>Compilação</h2>
                <p>Para compilar o projeto, utilize o seguinte comando no terminal:</p>
                <pre>gcc -o cache_simulator cache_simulator.c cache.c -lm</pre>
                <p>Caso seja usado o Makefile simplesmente rodar o comando:</p>
                <pre>make</pre>

                <h2>Execução</h2>
                <p>Para executar o código no Linux use algo deste tipo:</p>
                <pre>./cache_simulator &lt;nsets&gt; &lt;bsize&gt; &lt;assoc&gt; &lt;substituição&gt; &lt;flag_saida&gt; arquivo_de_entrada</pre>
                <p>Para executar o código no Windows use algo assim:</p>
                <pre>.\cache_simulator &lt;nsets&gt; &lt;bsize&gt; &lt;assoc&gt; &lt;substituição&gt; &lt;flag_saida&gt; arquivo_de_entrada</pre>
                <br>
                <p>Exemplo de saída flag 0:</p>
                <img src="./srcs/flag0.png"
                    alt="Exemplo de execução do simulador de cache usando o comando da foto com flag 0">
                <p>Exemplo de saída flag 1:</p>
                <img src="./srcs/flag1.png"
                    alt="Exemplo de execução do simulador de cache usando o comando da foto com flag 1">
                <h2>Resultados</h2>
                <p>Os resultados obtidos com o simulador de cache foram satisfatórios, e os testes realizados com
                    diferentes configurações de cache e arquivos de entrada foram bem sucedidos.
                    <br>As saídas obtidas foram comparadas com os exemplos disponibilizados, e com exceção dos resultados
                    usando RANDOM, que podem variar a cada execução, todos os outros resultados foram idênticos.
                <h2>Autores</h2>
                <p><a href="https://github.com/ChristianKringel" target="_blank">Christian Kringel</a></p>
                <p><a href="https://github.com/Ravazolo88" target="_blank">Pedro Ravazolo</a></p>
            </div>
            <a href="doxygen_crawl.html"></a>
        </div><!-- contents -->
        <!-- start footer part -->
        <hr class="footer" />
        <address class="footer"><small>
                Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg"
                        width="104" height="31" alt="doxygen" /></a> 1.12.0
            </small></address>
    </div><!-- doc-content -->

</body>

</html>